[pytest]

# 테스트 파일이 있는 디렉토리를 지정합니다.
testpaths = tests

# 비동기 테스트를 위한 모드 설정
# 'auto'는 async def로 정의된 테스트 함수를 자동으로 비동기 코루틴으로 실행
asyncio_mode = auto


# pytest 실행 시 기본으로 추가할 옵션들입니다.
# --cov=app : 'app' 디렉토리를 기준으로 커버리지를 측정합니다.
# --cov-report=term-missing : 터미널에 커버리지 요약 및 누락된 라인을 표시합니다.
# --cov-report=html : htmlcov/ 디렉토리에 상세 HTML 리포트를 생성합니다.
addopts =
    --cov=app
    --cov-report=term-missing 
    --cov-report=html 

[coverage:run]
# 커버리지 측정에서 제외할 파일/디렉토리 패턴입니다.
omit =
    alembic/*
    tests/*
    app/config.py
    app/main.py